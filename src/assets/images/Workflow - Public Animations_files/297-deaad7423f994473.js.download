"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{8893:function(e,n,o){o.d(n,{X:function(){return p}});var t=o(77916),a=o(51848),i=o(83849),l=o.n(i),r=o(29901),s=o(95893),c=o(74536),d=o(61250),u=["disabled","label","required","valueLabel","id","onChange","name","additionalClasses","checkboxSize","labelClass","icon","indeterminate"];function m(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function f(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?m(Object(o),!0).forEach((function(n){(0,t.Z)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}var p=function(e){var n=e.disabled,o=(e.label,e.required),t=e.valueLabel,i=void 0===t?"":t,m=e.id,p=void 0===m?(0,s.ZP)("checkbox-"):m,b=e.onChange,h=e.name,g=e.additionalClasses,v=e.checkboxSize,x=void 0===v?"small":v,w=e.labelClass,C=void 0===w?"text-sm":w,k=e.icon,j=e.indeterminate,y=void 0!==j&&j,I=(0,a.Z)(e,u),S=(0,r.useState)(!1),M=S[0],O=S[1],L=(0,r.useState)(!1),A=L[0],E=L[1],P=(0,r.useState)(null),D=P[0],_=P[1],F=(0,r.useCallback)((function(){O(!0)}),[]),U=(0,r.useCallback)((function(){O(!1)}),[]);(0,r.useEffect)((function(){D&&(D.indeterminate=!!y)}),[D,y]);var N=(0,r.useCallback)((function(e){e.stopPropagation(),b(e.target.checked),e.target.checked?E(!0):E(!1)}),[E,b]),Z=(0,d.jsxs)("div",{className:"inline-flex items-center justify-center space-x-1 ".concat(g),children:[(0,d.jsxs)("div",{className:l()({"relative inset-x-0 items-center":!0,"h-5 w-5 min-h-[1rem]":"extra-small"===x,"h-6 w-6 min-h-[1.75rem]":"small"===x,"h-10 w-10 min-h-[2.5rem] min-w-[2.5rem]":"large"===x}),children:[M&&(0,d.jsx)("div",{className:l()({"absolute inset-0 m-auto rounded-full bg-gray-100":!0,"bg-teal-100":A,"h-5 w-5":"extra-small"===x,"h-6 w-6":"small"===x,"h-9 w-9":"large"===x})}),(0,d.jsx)("input",f(f({name:h||p,ref:_,type:"checkbox",id:p,required:o,disabled:n,"aria-labelledby":"label-".concat(p),onChange:N,onClick:function(e){e.stopPropagation()}},I),{},{className:l()({"bg-gray-100 text-gray-300 cursor-not-allowed":n,"absolute inset-0 m-auto border focus:ring-teal-300 focus:ring-offset-0 text-teal-300 border-gray-300 bg-gray-100 hover:cursor-pointer checkbox":!0,checked:A,indeterminate:y,"h-3 w-3 rounded-3":"extra-small"===x,"h-4 w-4 rounded-3":"small"===x,"h-6 w-6 rounded-5":"large"===x}),onMouseEnter:F,onMouseLeave:U}))]}),(0,d.jsxs)("label",{id:"label-".concat(p),htmlFor:p,className:l()(C,{"font-medium text-gray-500 dark:text-gray-300 flex flex-row items-center justify-start ml-0":!0}),children:[k&&(0,d.jsx)(c.J,{name:k,color:"text-gray-400",small:!0,className:"h-[16px] -ml-1"}),(0,d.jsx)("span",{className:"ml-1",children:i})]})]});return(0,d.jsx)(d.Fragment,{children:Z})}},51855:function(e,n,o){o.r(n),o.d(n,{GridView:function(){return j},default:function(){return y}});var t=o(29901),a=o(24161),i=o(59715),l=o(62295),r=o(46717),s=o(83849),c=o.n(s),d=o(48645),u=o(68760),m=o(79524),f=o(61250),p=(0,r.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),b=function(e){var n=e.workspaceId,o=(0,i.SS)(l.AD.FILE_UPLOAD_LIMIT),a=(0,m.Z)({workspaceId:n}).onClick,r=(0,t.useState)(!1),s=r[0],d=r[1],u=(0,t.useCallback)((function(){d(!0)}),[]),b=(0,t.useCallback)((function(){d(!1)}),[]);return(0,f.jsx)("div",{onMouseEnter:u,onMouseLeave:b,className:c()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:s&&(0,f.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,f.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",o.value," most recently created files on your current Basic Plan. Upgrade to access all your files."]}),(0,f.jsx)(p,{onClick:a,children:"Upgrade"})]})})},h=function(e){var n,o,t,a,i,l,r=e.animation,s=e.disableMenu,c=e.isSelected,m=e.onClick,p=e.onSelectionChange,h=e.selectable,g=e.selectionMode,v=e.showAddToCollection,x=e.showStatus,w=void 0===x||x,C=e.showUpdatedUser,k=e.workspaceId,j=(0,u.Q)(k);return(0,f.jsxs)("div",{className:"relative rounded-md",children:[j.length>0&&!j.includes(r.id)&&(0,f.jsx)(b,{workspaceId:r.project.workspaceId}),(0,f.jsx)(d.K,{scopes:r.animationPermissionScopes,animation:r,backgroundColor:r.backgroundColor,thumbnail:null===(n=r.fileObject)||void 0===n||null===(o=n.thumbnails)||void 0===o||null===(t=o.webp)||void 0===t?void 0:t.medium.url,title:r.name,url:null===(a=r.fileObject)||void 0===a?void 0:a.url,showUpdatedUser:C,username:r.modifiedBy?r.modifiedBy.name:null===(i=r.createdBy)||void 0===i?void 0:i.name,project:null===(l=r.project)||void 0===l?void 0:l.title,date:r.updatedAt,selectable:h,selected:c,onSelectionChange:p,selectionMode:g,showStatus:w,status:r.status,onClick:m,disableMenu:s,showAddToCollection:v,upgradeRequired:j.length>0&&!j.includes(r.id)})]})},g=o(45118),v=o(26729),x=o(69166),w=o(67779),C=o(30525),k=o(79321),j=function(e){var n=e.canLoadMore,o=void 0!==n&&n,i=e.files,l=e.isLoadingMore,r=void 0!==l&&l,s=e.onLoadMore,c=void 0===s?function(){}:s,d=e.onSelectionChange,u=e.onFolderDownloadAllClick,m=e.selectable,p=void 0!==m&&m,b=e.selectedAnimations,j=e.selectionMode,y=e.showUpdatedUser,I=void 0===y||y,S=e.showAddToCollection,M=void 0!==S&&S,O=e.showStatus,L=void 0===O||O,A=e.onItemClick,E=e.workspaceId,P=(0,a.useRecoilValue)(C.Y),D=(0,w.S)({onIntersecting:c}),_=(0,t.useCallback)((function(e){return function(){d&&d(e.id)}}),[d]),F=(0,t.useCallback)((function(e){return function(){return A(e)}}),[A]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[i.map((function(e){var n,o,t="file-card-".concat(e.id);return(0,k.qR)(e)?(0,f.jsx)(x.A,{onClick:F(e),title:e.name,username:(null===(n=e.modifiedBy)||void 0===n?void 0:n.name)||(null===(o=e.createdBy)||void 0===o?void 0:o.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:u,selectable:p,selectionMode:j,onSelectionChange:_(e),isSelected:!!b&&Boolean(b.some((function(n){return n.id===e.id})))},t):(0,k.QR)(e)?(0,f.jsx)(h,{animation:e,showUpdatedUser:I,showStatus:L,selectable:p,isSelected:!!b&&Boolean(b.some((function(n){return n.id===e.id}))),onSelectionChange:_(e),selectionMode:j,onClick:F(e),disableMenu:P>0,showAddToCollection:M,workspaceId:E},t):(0,k.xK)(e)?(0,f.jsx)(g.r,{file:e,onClick:F(e),selectable:p,onSelectionChange:_(e),selected:!!b&&Boolean(b.includes(e)),selectionMode:j}):(0,f.jsx)(f.Fragment,{})})),r&&(0,f.jsx)(v.a,{type:"spinner"})]}),o&&!r&&(0,f.jsx)("span",{ref:D})]})},y=j},68760:function(e,n,o){o.d(n,{Q:function(){return d}});var t=o(89303),a=o(29901),i=o(389),l=o(51638),r=o(28875),s=o(36142),c=o(96312),d=function(e){var n=(0,l.hp)(e),o=(0,c.fK)(n),d=(0,i.aM)({query:r.Z$,pause:!e||!n||!o||o!==s.Q.FREE,variables:{workspaceId:e}}),u=(0,t.Z)(d,1)[0];return(0,a.useMemo)((function(){var e;return o===s.Q.FREE&&(null===(e=u.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[u,o])}},79524:function(e,n,o){var t=o(89303),a=o(59715),i=o(62295),l=o(29901),r=o(389),s=o(25279),c=o(28875);n.Z=function(e){var n,o,d=e.workspaceId,u=(0,a.SS)(i.AD.FILE_UPLOAD_LIMIT),m=(0,r.aM)({query:c.wG,variables:{workspaceId:d},pause:!d}),f=null!==(n=null===(o=(0,t.Z)(m,1)[0].data)||void 0===o?void 0:o.fileCountByWorkspaceId)&&void 0!==n?n:0,p=u?Math.min(Math.round(f/u.value*100),100):0,b=p<80,h=p>=80&&p<=90,g=p>90,v=function(e){e.stopPropagation(),e.preventDefault(),b?(0,s.Z)({source:i.pj.FILE_UPLOAD_LIMIT,workspaceId:d}):h?(0,s.Z)({source:i.pj.FILE_UPLOAD_LIMIT_ALMOST_REACHED,workspaceId:d}):(0,s.Z)({source:i.pj.FILE_UPLOAD_LIMIT_EXCEEDED,workspaceId:d})};return(0,l.useMemo)((function(){return{fileCount:f,percentage:p,isDefaultState:b,isWarningState:h,isDangerState:g,onClick:v}}),[f,p,b,h,g,v])}}}]);