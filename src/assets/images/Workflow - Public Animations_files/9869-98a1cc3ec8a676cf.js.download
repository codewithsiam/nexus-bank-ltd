"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9869],{75757:function(e,t,n){n.d(t,{p:function(){return D}});var r=n(55312),o=n(89303),l=n(24642),a=n.n(l),s=n(71108),i=n(29901),c=n(389),d=n(48274),u=n(68125),m=n(74536),x=n(18732),f=n(83849),p=n.n(f),h=n(95618),v=n(54767),j=n(13645),y=n(84815),g=n(61250),b=function(e){var t=e.backgroundColor,n=e.canDelete,r=void 0===n||n,o=e.creator,l=e.downloadCount,a=e.id,s=void 0===a?"anim-card-".concat(Math.random()):a,c=e.likeCount,d=e.lottieUrl,u=e.href,f=e.name,b=e.onDelete,w=e.thumbnailUrl,N=(0,i.useState)(!1),C=N[0],k=N[1],E=(0,i.useState)(!1),O=E[0],U=E[1],F=(0,i.useCallback)((function(){k(!0)}),[k]),T=(0,i.useCallback)((function(){k(!1)}),[k]),L=(0,i.useCallback)((function(){U(!0)}),[]),S=(0,i.useMemo)((function(){return(0,g.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0",style:{backgroundColor:t||"none"},children:[r&&(0,g.jsx)("div",{className:p()("absolute right-0 top-0 z-20",{hidden:!C}),children:(0,g.jsx)(h.h,{onClick:b,icon:"delete"})}),(0,g.jsx)("div",{className:p()("mx-auto h-full",{hidden:!C&&!O}),children:C&&(0,g.jsx)(j.V,{autoplay:!0,loop:!0,src:d})}),(0,g.jsx)("div",{className:p()("mx-auto h-full",{hidden:C}),children:(0,g.jsx)(y.y,{src:w,onError:L,alt:f})})]})}),[t,f,w,d,C,O,L,b,r]),P=(0,i.useMemo)((function(){return(0,g.jsxs)("div",{className:"relative flex items-center justify-between w-full mt-4",children:[(0,g.jsxs)("div",{className:"grid w-full grid-cols-8 grid-rows-2 align-middle",children:[(0,g.jsx)("div",{className:"col-span-6",children:(0,g.jsx)(x.Z,{truncate:!0,title:f,children:f})}),(0,g.jsxs)("div",{className:"flex flex-row align-middle gap-x-1 col-span-2 pt-0.5",children:[(0,g.jsx)(m.J,{small:!0,name:"heart",className:"mt-[1px]",color:"text-gray-500"}),(0,g.jsx)(x.Z,{variant:"caption-1",truncate:!0,color:"gray",children:(0,g.jsx)("span",{children:c})})]}),(0,g.jsx)("div",{className:"flex flex-row col-span-6 align-middle gap-x-1",children:o&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:o.avatarUrl,className:"w-4 h-4 rounded-full",alt:""}),(0,g.jsx)(x.Z,{variant:"caption-1",truncate:!0,color:"gray",children:(0,g.jsx)("span",{children:o.lastName?"".concat(o.firstName," ").concat(o.lastName):o.firstName})})]})}),(0,g.jsxs)("div",{className:"flex flex-row col-span-2 align-middle gap-x-1",children:[(0,g.jsx)(m.J,{small:!0,name:"download",color:"text-gray-500"}),(0,g.jsx)(x.Z,{variant:"caption-1",truncate:!0,color:"gray",children:(0,g.jsx)("span",{children:l})})]})]}),(0,g.jsx)("div",{className:"flex-grow"}),(0,g.jsx)("div",{className:"absolute invisible top-2 right-2 group-hover:visible"})]})}),[o,l,c,f]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(v.r,{href:u,children:(0,g.jsx)("div",{id:s,className:p()("w-full transition duration-100 ease-out bg-white border rounded-md animation-card overflow-hidden group"),onMouseEnter:F,onMouseLeave:T,children:(0,g.jsxs)("div",{className:"p-3 cursor-pointer animation",children:[S,P]})})})})},w=n(80353),N=n(84372),C=n(63862),k=n(35653),E=n(99476),O=n(15830),U=n(32690),F=n(28420),T=function(e){var t=e.canEditCollection,n=e.collectionId,r=e.collectionType,o=e.collectionUrl,l=e.sharePopover,a=e.title;return(0,g.jsxs)("div",{className:"flex flex-col w-full",children:[(0,g.jsxs)("div",{className:"flex items-center w-full",children:[r===F.p.PRIVATE&&(0,g.jsx)(O.u,{title:"Only you can see and edit this collection",skidding:100,className:"-ml-0.5",placement:"bottom",children:(0,g.jsx)(m.J,{name:"lock-fill",className:"mr-2",small:!0,color:"text-gray-600"})}),(0,g.jsx)(x.Z,{variant:"heading-1",lines:"1",gutter:!1,lineHeightClass:"leading-8",darkest:!0,children:a}),(0,g.jsx)("div",{className:"flex ml-auto space-x-4",children:t&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.r,{className:"relative flex items-center justify-center h-8 px-4 py-1 text-sm border border-gray-300 rounded-md reounded-md hover:border-gray-600 focus:border-gray-300 focus:ring-teal-300",textCssColors:"text-gray-900",href:o,children:"View collection page"}),(0,g.jsx)(k.J,{placement:"bottom-end",offsetX:20,additionalCssClasses:"w-96",content:l,children:(0,g.jsx)("div",{className:"relative",children:(0,g.jsx)(C.z,{additionalClass:"h-8",text:"Share",variant:"secondary"})})}),r&&(0,g.jsx)(U.S,{collectionType:r,collectionName:a,collectionId:n})]})})]}),(0,g.jsx)(E.o,{stretch:!0,children:(0,g.jsx)("div",{className:"w-auto",children:(0,g.jsxs)(N.O,{classNames:"text-gray-400",children:[(0,g.jsx)(v.r,{href:"/my-collections",className:"flex items-center space-x-2 text-gray-400 truncate flex-cols",children:(0,g.jsx)("span",{children:" My collections"})}),(0,g.jsxs)("div",{className:"flex items-center",children:[r===F.p.PRIVATE&&(0,g.jsx)(O.u,{title:"Only you can see and edit this collection",className:"-ml-0.5",placement:"bottom",children:(0,g.jsx)(m.J,{name:"lock-fill",small:!0,color:"text-gray-400"})}),(0,g.jsx)("div",{className:"max-w-xs",children:a})]})]})})})]})},L=n(82592),S=n(25067),P=n(47671),Z=n(96312),D=function(e){var t=e.animationList,n=e.collectionTitle,l=void 0===n?"":n,f=e.collectionType,p=void 0===f?F.p.PUBLIC:f,h=e.collectionId,j=void 0===h?-1:h,y=e.collectionUrl,N=void 0===y?"":y,C=e.emptyViewLayout,k=e.canEditCollection,E=void 0!==k&&k,O=e.paginationLoading,U=void 0!==O&&O,D=e.onLoadMore,I=(0,S.p)(),J=(0,i.useState)(!1),M=J[0],R=J[1],V=(0,i.useState)(!1),_=V[0],z=V[1],A=(0,i.useState)(null),B=A[0],G=A[1],H=(0,c.Db)(P.Gn),X=(0,o.Z)(H,2)[1],Y=(0,Z.Dy)((function(e){var t;null!=e&&null!==(t=e[0])&&void 0!==t&&t.isIntersecting&&D&&D()})),Q=(0,i.useCallback)((function(){R(!0),setTimeout((function(){R(!1)}),2200)}),[R]),q=(0,i.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X({animationIds:[t],collectionId:j});case 3:if((n=e.sent).data){e.next=6;break}throw new Error((null==n||null===(r=n.error)||void 0===r?void 0:r.message)||"GQL error");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),null==I||I.pushError("Fail to remove animation. ".concat((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Unknown error occur"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[j,X,I]),K=(0,i.useCallback)((function(e){return function(){var t=(0,r.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(n.preventDefault(),z(!0),G(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),[]),W=(0,i.useCallback)((function(e){try{navigator.clipboard.writeText(e),Q()}catch(r){try{var t,n=document.body.appendChild(document.createElement("input"));n.value=e,n.focus(),n.select(),document.execCommand("copy"),null==n||null===(t=n.parentNode)||void 0===t||t.removeChild(n),Q()}catch(e){console.error("Fallback copy link error! ".concat(e)),null==I||I.pushError("Fail to copy link, please copy manually.")}}}),[I,Q]),$=(0,i.useMemo)((function(){return(0,g.jsxs)("div",{className:"p-6",children:[(0,g.jsxs)(x.Z,{variant:"heading-4",children:['Share "',l,'"']}),p===F.p.PUBLIC&&(0,g.jsxs)("div",{className:"flex justify-center mt-8 mb-5",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center mx-3",children:[(0,g.jsx)(v.r,{href:"https://web.facebook.com/sharer/sharer.php?u=".concat(N,"&amp;title=").concat(l),target:"_blank",children:(0,g.jsx)(m.J,{name:"social-facebook-round",className:"w-16 h-16"})}),(0,g.jsx)("span",{className:"text-sm",children:"Facebook"})]}),(0,g.jsxs)("div",{className:"flex flex-col items-center mx-3",children:[(0,g.jsx)(v.r,{href:"https://twitter.com/intent/tweet?text=".concat(l,"&url=").concat(N,"&via=LottieFiles"),target:"_blank",children:(0,g.jsx)(m.J,{name:"social-twitter-round",className:"w-16 h-16"})}),(0,g.jsx)("span",{className:"text-sm",children:"Twitter"})]})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(s.uT,{show:M,enter:"transform transition duration-[100ms]",enterFrom:"opacity-0 scale-50",enterTo:"opacity-100 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,g.jsx)("div",{className:"absolute w-[max-content] transform px-3 flex justify-center items-center h-7 text-xs text-white bg-gray-900 rounded-md -top-11 right-0",children:"Link copied"})}),(0,g.jsx)(w.I,{additionalClasses:"mt-4",disabled:!0,value:"".concat(N)}),(0,g.jsx)("button",{type:"button",className:"absolute right-0 pl-2 mr-1 cursor-pointer top-1.5 bg-gray-50",onClick:function(){return W("".concat(N))},children:(0,g.jsx)(m.J,{name:"copy-fill",color:"text-gray-600"})})]}),(0,g.jsx)("div",{className:"flex items-start mt-3",children:p===F.p.PRIVATE?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.J,{name:"lock-fill",color:"text-gray-400",marginRight:!0,className:"w-4 h-4"}),(0,g.jsx)(x.Z,{variant:"caption-2",color:"gray",children:"Only people with the direct link can view your private collection."})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.J,{name:"globe",color:"text-gray-400",marginRight:!0,className:"w-4 h-4"}),(0,g.jsx)(x.Z,{variant:"caption-2",color:"gray",children:"Public collections are visible to everyone on your LottieFiles profile."})]})})]})}),[W,p,l,N,M]),ee=(0,i.useMemo)((function(){return(0,g.jsx)(T,{title:l,collectionType:p,canEditCollection:E,collectionId:j,collectionUrl:N,sharePopover:$})}),[l,p,E,j,N,$]),te=(0,i.useMemo)((function(){return t&&"number"==typeof(null==t?void 0:t.totalCount)&&t.totalCount<=0?C:""}),[t,C]),ne=(0,i.useMemo)((function(){var e;return(null==t||null===(e=t.edges)||void 0===e?void 0:e.map((function(e,n){var r,o,l=e.node,a="file-card-".concat(l.id);return n===t.edges.length-1?(0,g.jsx)("div",{ref:Y,children:(0,g.jsx)(b,{id:a,name:l.name,creator:l.createdBy,likeCount:l.likesCount,downloadCount:l.downloads,lottieUrl:l.lottieUrl,backgroundColor:l.bgColor,thumbnailUrl:l.imageUrl,href:null!==(r=l.url)&&void 0!==r?r:"",canDelete:E&&(null==B?void 0:B.id)!==l.id,onDelete:K(l)},a)},a):(0,g.jsx)(b,{id:a,name:l.name,creator:l.createdBy,likeCount:l.likesCount,downloadCount:l.downloads,lottieUrl:l.lottieUrl,backgroundColor:l.bgColor,thumbnailUrl:l.imageUrl,href:null!==(o=l.url)&&void 0!==o?o:"",canDelete:E&&(null==B?void 0:B.id)!==l.id,onDelete:K(l)},a)})))||[]}),[t,E,Y,K,B]);return(0,g.jsxs)(u.u,{title:l,header:ee,isLoading:!t,children:[(0,g.jsx)(d.c,{paginationLoading:U,children:ne}),(0,g.jsx)(L.s,{title:(0,g.jsxs)("h3",{className:"text-lg leading-6 font-lf-semi-bold text-red-500 w-[90%]",children:['Remove "',null==B?void 0:B.name,'" from collection ?']}),body:"You won't be able to undo this.",buttonTitle:"Remove animation",showModal:_,onConfirm:(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B&&(q(B.id),z(!1));case 1:case"end":return e.stop()}}),e)}))),closeCallback:function(){z(!1)}}),te&&(0,g.jsx)("div",{className:"flex items-center justify-center w-full h-3/4",children:te})]})}},84372:function(e,t,n){n.d(t,{O:function(){return s}});var r=n(83849),o=n.n(r),l=(n(29901),n(74536)),a=n(61250),s=function(e){var t=e.children,n=e.classNames;return(0,a.jsx)("div",{className:o()("items-center text-sm",n,"grid grid-flow-col grid-cols-auto "),children:t.map((function(e,n){if(e){var r=n;return n<t.length-1?(0,a.jsxs)("div",{className:"grid items-center grid-flow-col mr-2 grid-cols-auto gap-x-2",children:[(0,a.jsxs)("div",{className:"",children:[" ",e]}),(0,a.jsx)(l.J,{name:"chevron-right",medium:!0,color:"text-gray-400",className:"flex-none"})]},"bread-".concat(r)):e}return null}))})}},35653:function(e,t,n){n.d(t,{J:function(){return u}});var r=n(77916),o=n(71108),l=n(29901),a=n(64483),s=n(88250),i=n(54525),c=n(61250);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u=function(e){var t=e.additionalCssClasses,n=void 0===t?"p-4 w-80":t,u=e.children,m=e.closeRef,x=e.container,f=e.content,p=e.offsetX,h=void 0===p?0:p,v=e.offsetY,j=void 0===v?12:v,y=e.onClose,g=e.onOpen,b=e.placement,w=void 0===b?"top":b,N=e.show,C=void 0!==N&&N,k=e.showArrow,E=void 0===k||k,O=e.triggerElementRef,U=(0,l.useState)(null),F=U[0],T=U[1],L=(0,l.useRef)(null),S=(0,l.useState)(null),P=S[0],Z=S[1],D=(0,a.D)(F,L.current,{modifiers:[{name:"arrow",options:{element:P}},{name:"offset",options:{offset:[h,j]}}],placement:w}),I=D.attributes,J=D.styles,M=(0,l.useState)(C),R=M[0],V=M[1];(0,l.useEffect)((function(){O&&(O.current?T(O.current):T(O))}),[O]);var _=(0,l.useCallback)((function(){V((function(e){return!e})),R&&y&&y(),!R&&g&&g()}),[y,g,R]);(0,l.useEffect)((function(){m&&(m.current=_)}),[_,m]),(0,s.Z)(L,_);var z=l.createElement("div",{ref:Z,style:J.arrow,className:E?"popover-arrow":""}),A=l.createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:L,style:J.popper,className:"relative popover-container ".concat(n)},I.popper),z,f);return(0,c.jsxs)(c.Fragment,{children:[u&&l.cloneElement(u,{ref:T,onClick:_}),(0,c.jsx)(i.T,{container:x,children:(0,c.jsx)(o.uT,{show:R,enter:"transition duration-100 ease-out",enterFrom:"transform opacity-0",enterTo:"transform opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform opacity-100",leaveTo:"transform opacity-0",className:"relative z-50",children:A})})]})}},99476:function(e,t,n){n.d(t,{o:function(){return o}});n(29901);var r=n(61250),o=function(e){var t=e.children,n=e.direction,o=e.stretch;return(0,r.jsx)("div",{className:"\n        flex\n        ".concat("column"===n?"flex-col":"flex-row","\n        ").concat("column"===n?"space-y-2":"space-x-2","\n        ").concat("column"===n?"items-start":"items-center","\n        ").concat(o?"justify-between":"","\n      "),children:t})}},56408:function(e,t,n){n.d(t,{H:function(){return m}});var r=n(83849),o=n.n(r),l=(n(29901),n(24161)),a=n(95610),s=n(92971),i=n(13645),c=n(74536),d=n(61250),u="https://creator.lottiefiles.com",m=function(e){var t=e.canCreateAnimations,n=void 0!==t&&t,r=e.canCreateFolder,m=void 0!==r&&r,x=e.canUpload,f=void 0!==x&&x,p=e.description,h=e.layout,v=void 0===h?"vertical":h,j=e.title,y=e.view,g=void 0===y?"dashboard":y,b=(0,l.useSetRecoilState)(s._b),w=(0,l.useSetRecoilState)(a.rU),N=300;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:o()({"flex items-center justify-center":!0,"flex-col":"vertical"===v,"flex-row":"horizontal"===v}),children:["dashboard"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/empty-dashboard.json",style:{width:"".concat(N,"px")}}),"empty-project"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/empty-project.json",style:{width:"".concat(N,"px")}}),"empty-shared-with-me"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/empty-pour-bottle.json",style:{width:"".concat(N,"px")}}),"empty-project-folders"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/empty-3-mugs.json",style:{width:"".concat(N,"px")}}),"no-results"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/search.json",style:{width:"".concat(N,"px")}}),"empty-collection"===g&&(0,d.jsx)(i.V,{autoplay:!0,loop:!0,src:"/lotties/empty-collection.json",style:{width:"".concat(N,"px")}}),(0,d.jsxs)("div",{className:o()({"flex flex-col text-gray-900":!0,"mt-6 items-center space-y-2":"vertical"===v,"ml-8":"horizontal"===v}),children:[(0,d.jsx)("div",{className:"text-2xl font-lf-bold",children:j}),(0,d.jsx)("div",{className:"max-w-sm text-sm md:text-center",children:p}),f&&(0,d.jsx)("div",{children:(0,d.jsxs)("button",{type:"button",onClick:function(){return b(!0)},className:"inline-flex items-center h-8 px-3 py-0 mt-4 space-x-1 text-sm leading-8 lf-btn primary font-lf-regular",children:[(0,d.jsx)(c.J,{name:"plus"}),(0,d.jsx)("span",{children:"Upload animations"})]})}),m&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"button",onClick:function(){return w(!0)},className:"inline-flex items-center h-8 px-3 py-0 mt-4 space-x-1 text-sm leading-8 lf-btn primary font-lf-regular",children:(0,d.jsx)("span",{children:"Create Folder"})})}),n&&(0,d.jsx)("div",{children:(0,d.jsx)("a",{className:"inline-flex items-center h-10 px-4 py-0 mt-4 space-x-1 text-base leading-5 align-middle lf-btn primary",href:u,target:"_blank",rel:"noreferrer",children:"Create animation"})})]})]})})}},88250:function(e,t,n){var r=n(29901);t.Z=function(e,t){(0,r.useEffect)((function(){var n=function(n){var r=e.current;r&&!r.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}}}]);